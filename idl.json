{"version":"0.1.0","name":"bank","instructions":[{"name":"initializeSupply","accounts":[{"name":"supplyAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"deposit","accounts":[{"name":"supplyAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"supplyAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true}],"args":[{"name":"amount","type":"u64"}]},{"name":"initializeLoanAccount","accounts":[{"name":"loanAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"requestLoan","accounts":[{"name":"supplyAccount","isMut":true,"isSigner":false},{"name":"loanAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"interestRate","type":"u64"},{"name":"loanTerm","type":"i64"}]},{"name":"repayLoan","accounts":[{"name":"supplyAccount","isMut":true,"isSigner":false},{"name":"loanAccount","isMut":true,"isSigner":false},{"name":"userAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"repaymentAmount","type":"u64"}]}],"accounts":[{"name":"SupplyAccount","type":{"kind":"struct","fields":[{"name":"totalBalance","type":"u64"}]}},{"name":"UserAccount","type":{"kind":"struct","fields":[{"name":"balance","type":"u64"},{"name":"transactionHistory","type":{"vec":{"defined":"Transaction"}}},{"name":"hasLoanAccount","type":"bool"}]}},{"name":"LoanAccount","type":{"kind":"struct","fields":[{"name":"borrower","type":"publicKey"},{"name":"loanAmount","type":"u64"},{"name":"interestRate","type":"u64"},{"name":"startTime","type":"i64"},{"name":"endTime","type":"i64"},{"name":"repaid","type":"bool"}]}}],"types":[{"name":"Transaction","type":{"kind":"struct","fields":[{"name":"txnType","type":{"defined":"TransactionType"}},{"name":"amount","type":"u64"},{"name":"timestamp","type":"i64"}]}},{"name":"TransactionType","type":{"kind":"enum","variants":[{"name":"Deposit"},{"name":"Withdraw"}]}}],"errors":[{"code":6000,"name":"InsufficientFunds","msg":"Insufficient funds."},{"code":6001,"name":"ActiveLoanExists","msg":"User already has an active loan."},{"code":6002,"name":"InvalidLoanAmount","msg":"Invalid loan amount."},{"code":6003,"name":"LoanAlreadyRepaid","msg":"The loan has already been repaid."},{"code":6004,"name":"InvalidRepaymentAmount","msg":"The repayment amount is invalid."}]}